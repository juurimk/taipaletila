{{ define "main" }}

<!-- SCSS lataus -->
{{ $singleCSS := resources.Get "scss/sections/single.scss" | toCSS }}
<link rel="stylesheet" href="{{ $singleCSS.RelPermalink }}">

{{ partial "navigation.html" . }}

{{/* Get sectionset for individual blog posts */}}
{{ $sectionset := index site.Params.sectionsets "blog_single" | default "lightset" }}

<section class="section section-{{ $sectionset }}">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 offset-lg-2">

        <!-- Blogipostauksen otsikko, päivämäärä ja kirjoittaja -->
        <div class="blog-meta mb-4">
          <h1 class="blog-title mb-3">{{ .Title }}</h1>
          <div class="blog-meta-info">
            <div class="blog-date text-muted d-inline-block" style="margin-right: 16px;">
              <i class="fas fa-calendar-alt" style="font-size: 0.875rem; margin-right: 8px;"></i>{{ .Date.Format "02.01.2006" }}
            </div>
            {{ if .Params.author }}
            <div class="blog-author text-muted d-inline-block" style="margin-right: 16px;">
              <i class="fas fa-user" style="font-size: 0.875rem; margin-right: 8px;"></i>{{ .Params.author }}
            </div>
            {{ end }}
            <div class="blog-tags text-muted d-inline-block">
              <i class="fas fa-list" style="font-size: 0.875rem; margin-right: 8px;"></i>teknologia, suunnittelu, blogi
            </div>
          </div>
          {{ if or .Params.ingress .Params.description }}
          <div class="blog-ingress text-muted mt-3" style="font-style: italic;">{{ .Params.ingress | default .Params.description | markdownify }}</div>
          {{ end }}
        </div>

        <!-- Pääkuva -->
        {{ if .Params.image_webp }}
          <img class="img-fluid mb-50 lozad" data-src="{{ .Params.image_webp | absURL }}" alt="blog-image">
        {{ else if .Params.image }}
          <img class="img-fluid mb-50 lozad" data-src="{{ .Params.image | absURL }}" alt="blog-image">
        {{ end }}
      </div>

      <div class="col-lg-8 offset-lg-2">
        <div class="post-single-content">
          {{ .Content }}
        </div>

        {{ if site.Params.post_share }}
        {{ partial "post-share.html" . }}
        {{ end }}

      </div>
    </div>
  </div>
</section>

<!-- Pagination Section -->
{{ if or .Prev .Next }}
<section class="pagination section-{{ $sectionset }}" style="border-radius: 0; padding-top: 0px;">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 offset-lg-2">
        <div class="d-flex justify-content-between align-items-center" style="margin-bottom: 40px;">
          {{ if .Prev }}
          <a class="btn" href="{{ .Prev.Permalink }}">← Edellinen</a>
          {{ else }}
          <div></div>
          {{ end }}
          {{ if .Next }}
          <a class="btn" href="{{ .Next.Permalink }}">Seuraava →</a>
          {{ else }}
          <div></div>
          {{ end }}
        </div>
      </div>
    </div>
  </div>
</section>
{{ end }}

{{ end }}
